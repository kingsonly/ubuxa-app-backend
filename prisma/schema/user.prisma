model User {
  id          String       @id @default(auto()) @map("_id") @db.ObjectId
  firstname   String?
  lastname    String?
  username    String?
  password    String
  email       String       @unique
  phone       String?
  tenants     UserTenant[]
  storeLinks  StoreUser[]
  location    String?
  addressType AddressType?
  staffId     String?

  longitude String?
  latitude  String?

  emailVerified Boolean @default(false)
  isBlocked     Boolean @default(false)

  status UserStatus @default(active)

  tempToken TempToken[]

  createdRoles Role[] @relation("RoleCreator")

  agentDetails Agent?

  createdProducts         Product[]
  createdCustomers        Customer[]
  createdSales            Sales[]
  createdInventoryBatches InventoryBatch[]
  
  // Store transfer relationships
  initiatedTransfers      StoreTransfer[] @relation("TransferInitiator")
  approvedTransfers       StoreTransfer[] @relation("TransferApprover")
  completedTransfers      StoreTransfer[] @relation("TransferCompleter")
  
  // Store request relationships
  storeRequests           StoreRequest[] @relation("StoreRequester")
  reviewedRequests        StoreRequest[] @relation("StoreRequestReviewer")
  
  // Batch transfer relationships
  initiatedBatchTransfers StoreBatchTransfer[] @relation("BatchTransferInitiator")
  approvedBatchTransfers  StoreBatchTransfer[] @relation("BatchTransferApprover")
  completedBatchTransfers StoreBatchTransfer[] @relation("BatchTransferCompleter")
  
  // Batch request relationships
  storeBatchRequests      StoreBatchRequest[] @relation("StoreBatchRequester")
  reviewedBatchRequests   StoreBatchRequest[] @relation("StoreBatchRequestReviewer")
  
  // Store role relationships
  createdStoreRoles       StoreRole[] @relation("StoreRoleCreator")
  userStoreRoles          UserStoreRole[]
  assignedStoreRoles      UserStoreRole[] @relation("StoreRoleAssigner")

  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  deletedAt DateTime?

  lastLogin DateTime?

  @@map("users")
}

enum UserStatus {
  active
  inactive
  barred
}

enum AddressType {
  HOME
  WORK
}
